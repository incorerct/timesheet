{"ast":null,"code":"var _jsxFileName = \"/Users/tuvshuu/timesheet/src/TimesheetList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { db } from \"./firebaseConfig\"; // Ensure firebaseConfig.js contains the correct Firebase setup\nimport { collection, getDocs, doc, getDoc, setDoc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimesheetList = ({\n  weekDates\n}) => {\n  _s();\n  const [employees, setEmployees] = useState([]);\n  const [timesheetData, setTimesheetData] = useState({});\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [nextDay, setNextDay] = useState(false);\n  const [isHoliday, setIsHoliday] = useState(false);\n  const [totalTime, setTotalTime] = useState(0);\n  const [nightShiftHours, setNightShiftHours] = useState(0);\n  const [holidayTime, setHolidayTime] = useState(0);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch employees data\n        const employeeSnapshot = await getDocs(collection(db, \"employees\"));\n        const employeeData = employeeSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setEmployees(employeeData);\n\n        // Fetch initial timesheet data for employees\n        fetchTimesheetData();\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n  const fetchTimesheetData = async () => {\n    try {\n      const timesheetDataRef = collection(db, \"timesheets\");\n      const snapshot = await getDocs(timesheetDataRef);\n      const fetchedData = {};\n      snapshot.forEach(doc => {\n        fetchedData[doc.id] = doc.data().hours; // Assuming 'hours' field contains timesheet data\n      });\n      setTimesheetData(fetchedData);\n    } catch (error) {\n      console.error(\"Error fetching timesheet data:\", error);\n    }\n  };\n\n  // Function to handle time input change\n  const handleTimeChange = (type, value) => {\n    if (type === \"start\") {\n      setStartTime(value);\n    } else if (type === \"end\") {\n      setEndTime(value);\n    }\n\n    // Perform instant calculations whenever start or end time changes\n    if (startTime && endTime) {\n      const start = new Date(`1970-01-01T${startTime}:00`);\n      const end = new Date(`1970-01-01T${value}:00`);\n      const diffInHours = (end - start) / (1000 * 60 * 60); // Total time in hours\n      const nightShift = nextDay ? diffInHours / 2 : 0; // Example calculation for night shift\n      const holiday = isHoliday ? diffInHours * 0.5 : 0; // Example calculation for holiday\n\n      setTotalTime(diffInHours);\n      setNightShiftHours(nightShift);\n      setHolidayTime(holiday);\n    }\n  };\n  const handleSetTime = (employeeId, date) => {\n    setSelectedEmployee(employeeId);\n    setSelectedDate(date);\n    setModalOpen(true);\n  };\n  const handleSaveTime = async () => {\n    const start = new Date(`1970-01-01T${startTime}:00`);\n    const end = new Date(`1970-01-01T${endTime}:00`);\n    const diffInHours = (end - start) / (1000 * 60 * 60); // Calculate total time in hours\n    const nightShift = nextDay ? diffInHours / 2 : 0;\n    const holiday = isHoliday ? diffInHours * 0.5 : 0;\n    await saveTimesheetDataToFirebase(selectedEmployee, selectedDate, startTime, endTime, diffInHours, nightShift, holiday);\n    setModalOpen(false);\n  };\n  const saveTimesheetDataToFirebase = async (employeeId, date, start, end, totalTime, nightShift, holidayTime) => {\n    try {\n      const timesheetDocRef = doc(db, \"timesheets\", employeeId);\n      const timesheetData = await getDoc(timesheetDocRef);\n      let updatedData = {};\n      if (timesheetData.exists()) {\n        updatedData = timesheetData.data().hours;\n        updatedData[date] = {\n          startTime: start,\n          endTime: end,\n          totalTime,\n          nightShift,\n          holidayTime,\n          isHoliday\n        };\n      } else {\n        updatedData = {\n          [date]: {\n            startTime: start,\n            endTime: end,\n            totalTime,\n            nightShift,\n            holidayTime,\n            isHoliday\n          }\n        };\n      }\n      await setDoc(timesheetDocRef, {\n        hours: updatedData\n      });\n      console.log(\"Data saved successfully!\");\n      fetchTimesheetData();\n    } catch (error) {\n      console.error(\"Error saving timesheet data:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Timesheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Employee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), weekDates.map(date => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: date\n          }, date, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: employees.map(employee => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: employee.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this), weekDates.map(date => {\n            var _timesheetData$employ;\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSetTime(employee.id, date),\n                children: \"Set Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this), ((_timesheetData$employ = timesheetData[employee.id]) === null || _timesheetData$employ === void 0 ? void 0 : _timesheetData$employ[date]) && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Total Time: \", timesheetData[employee.id][date].totalTime, \" hours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Night Shift: \", timesheetData[employee.id][date].nightShift, \" hours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Holiday Time: \", timesheetData[employee.id][date].holidayTime, \" hours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 21\n              }, this)]\n            }, date, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this);\n          })]\n        }, employee.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), modalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Set Time for \", selectedEmployee, \" on \", selectedDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Start Time:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"time\",\n          value: startTime,\n          onChange: e => handleTimeChange(\"start\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"End Time:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"time\",\n          value: endTime,\n          onChange: e => handleTimeChange(\"end\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Next Day:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: nextDay,\n          onChange: () => setNextDay(!nextDay)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Is Holiday:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: isHoliday,\n          onChange: () => setIsHoliday(!isHoliday)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Time: \", totalTime, \" hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Night Shift Hours: \", nightShiftHours, \" hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Holiday Time: \", holidayTime, \" hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSaveTime,\n        children: \"Save Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setModalOpen(false),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s(TimesheetList, \"wNV2LoUbjaUXZHV3edriqlOvNLE=\");\n_c = TimesheetList;\nexport default TimesheetList;\nvar _c;\n$RefreshReg$(_c, \"TimesheetList\");","map":{"version":3,"names":["React","useState","useEffect","db","collection","getDocs","doc","getDoc","setDoc","jsxDEV","_jsxDEV","TimesheetList","weekDates","_s","employees","setEmployees","timesheetData","setTimesheetData","modalOpen","setModalOpen","selectedEmployee","setSelectedEmployee","selectedDate","setSelectedDate","startTime","setStartTime","endTime","setEndTime","nextDay","setNextDay","isHoliday","setIsHoliday","totalTime","setTotalTime","nightShiftHours","setNightShiftHours","holidayTime","setHolidayTime","fetchData","employeeSnapshot","employeeData","docs","map","id","data","fetchTimesheetData","error","console","timesheetDataRef","snapshot","fetchedData","forEach","hours","handleTimeChange","type","value","start","Date","end","diffInHours","nightShift","holiday","handleSetTime","employeeId","date","handleSaveTime","saveTimesheetDataToFirebase","timesheetDocRef","updatedData","exists","log","children","fileName","_jsxFileName","lineNumber","columnNumber","border","employee","name","_timesheetData$employ","onClick","className","onChange","e","target","checked","_c","$RefreshReg$"],"sources":["/Users/tuvshuu/timesheet/src/TimesheetList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { db } from \"./firebaseConfig\"; // Ensure firebaseConfig.js contains the correct Firebase setup\nimport { collection, getDocs, doc, getDoc, setDoc } from \"firebase/firestore\";\n\nconst TimesheetList = ({ weekDates }) => {\n  const [employees, setEmployees] = useState([]);\n  const [timesheetData, setTimesheetData] = useState({});\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [nextDay, setNextDay] = useState(false);\n  const [isHoliday, setIsHoliday] = useState(false);\n  const [totalTime, setTotalTime] = useState(0);\n  const [nightShiftHours, setNightShiftHours] = useState(0);\n  const [holidayTime, setHolidayTime] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch employees data\n        const employeeSnapshot = await getDocs(collection(db, \"employees\"));\n        const employeeData = employeeSnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setEmployees(employeeData);\n\n        // Fetch initial timesheet data for employees\n        fetchTimesheetData();\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const fetchTimesheetData = async () => {\n    try {\n      const timesheetDataRef = collection(db, \"timesheets\");\n      const snapshot = await getDocs(timesheetDataRef);\n\n      const fetchedData = {};\n      snapshot.forEach((doc) => {\n        fetchedData[doc.id] = doc.data().hours; // Assuming 'hours' field contains timesheet data\n      });\n\n      setTimesheetData(fetchedData);\n    } catch (error) {\n      console.error(\"Error fetching timesheet data:\", error);\n    }\n  };\n\n  // Function to handle time input change\n  const handleTimeChange = (type, value) => {\n    if (type === \"start\") {\n      setStartTime(value);\n    } else if (type === \"end\") {\n      setEndTime(value);\n    }\n\n    // Perform instant calculations whenever start or end time changes\n    if (startTime && endTime) {\n      const start = new Date(`1970-01-01T${startTime}:00`);\n      const end = new Date(`1970-01-01T${value}:00`);\n\n      const diffInHours = (end - start) / (1000 * 60 * 60); // Total time in hours\n      const nightShift = nextDay ? diffInHours / 2 : 0; // Example calculation for night shift\n      const holiday = isHoliday ? diffInHours * 0.5 : 0; // Example calculation for holiday\n\n      setTotalTime(diffInHours);\n      setNightShiftHours(nightShift);\n      setHolidayTime(holiday);\n    }\n  };\n\n  const handleSetTime = (employeeId, date) => {\n    setSelectedEmployee(employeeId);\n    setSelectedDate(date);\n    setModalOpen(true);\n  };\n\n  const handleSaveTime = async () => {\n    const start = new Date(`1970-01-01T${startTime}:00`);\n    const end = new Date(`1970-01-01T${endTime}:00`);\n\n    const diffInHours = (end - start) / (1000 * 60 * 60); // Calculate total time in hours\n    const nightShift = nextDay ? diffInHours / 2 : 0;\n    const holiday = isHoliday ? diffInHours * 0.5 : 0;\n\n    await saveTimesheetDataToFirebase(selectedEmployee, selectedDate, startTime, endTime, diffInHours, nightShift, holiday);\n    setModalOpen(false);\n  };\n\n  const saveTimesheetDataToFirebase = async (employeeId, date, start, end, totalTime, nightShift, holidayTime) => {\n    try {\n      const timesheetDocRef = doc(db, \"timesheets\", employeeId);\n      const timesheetData = await getDoc(timesheetDocRef);\n\n      let updatedData = {};\n\n      if (timesheetData.exists()) {\n        updatedData = timesheetData.data().hours;\n        updatedData[date] = { startTime: start, endTime: end, totalTime, nightShift, holidayTime, isHoliday };\n      } else {\n        updatedData = { [date]: { startTime: start, endTime: end, totalTime, nightShift, holidayTime, isHoliday } };\n      }\n\n      await setDoc(timesheetDocRef, { hours: updatedData });\n      console.log(\"Data saved successfully!\");\n\n      fetchTimesheetData();\n    } catch (error) {\n      console.error(\"Error saving timesheet data:\", error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Timesheet</h2>\n      <table border=\"1\">\n        <thead>\n          <tr>\n            <th>Employee</th>\n            {weekDates.map((date) => (\n              <th key={date}>{date}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {employees.map((employee) => (\n            <tr key={employee.id}>\n              <td>{employee.name}</td>\n              {weekDates.map((date) => (\n                <td key={date}>\n                  <button onClick={() => handleSetTime(employee.id, date)}>Set Time</button>\n                  {timesheetData[employee.id]?.[date] && (\n                    <div>\n                      <p>Total Time: {timesheetData[employee.id][date].totalTime} hours</p>\n                      <p>Night Shift: {timesheetData[employee.id][date].nightShift} hours</p>\n                      <p>Holiday Time: {timesheetData[employee.id][date].holidayTime} hours</p>\n                    </div>\n                  )}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {/* Modal for setting time */}\n      {modalOpen && (\n        <div className=\"modal\">\n          <h3>Set Time for {selectedEmployee} on {selectedDate}</h3>\n          <label>\n            Start Time:\n            <input\n              type=\"time\"\n              value={startTime}\n              onChange={(e) => handleTimeChange(\"start\", e.target.value)}\n            />\n          </label>\n          <label>\n            End Time:\n            <input\n              type=\"time\"\n              value={endTime}\n              onChange={(e) => handleTimeChange(\"end\", e.target.value)}\n            />\n          </label>\n          <label>\n            Next Day:\n            <input\n              type=\"checkbox\"\n              checked={nextDay}\n              onChange={() => setNextDay(!nextDay)}\n            />\n          </label>\n          <label>\n            Is Holiday:\n            <input\n              type=\"checkbox\"\n              checked={isHoliday}\n              onChange={() => setIsHoliday(!isHoliday)}\n            />\n          </label>\n          <div>\n            <p>Total Time: {totalTime} hours</p>\n            <p>Night Shift Hours: {nightShiftHours} hours</p>\n            <p>Holiday Time: {holidayTime} hours</p>\n          </div>\n          <button onClick={handleSaveTime}>Save Time</button>\n          <button onClick={() => setModalOpen(false)}>Close</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TimesheetList;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,kBAAkB,CAAC,CAAC;AACvC,SAASC,UAAU,EAAEC,OAAO,EAAEC,GAAG,EAAEC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC+B,SAAS,EAAEC,YAAY,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACiC,eAAe,EAAEC,kBAAkB,CAAC,GAAGlC,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,CAAC,CAAC;EAEjDC,SAAS,CAAC,MAAM;IACd,MAAMoC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF;QACA,MAAMC,gBAAgB,GAAG,MAAMlC,OAAO,CAACD,UAAU,CAACD,EAAE,EAAE,WAAW,CAAC,CAAC;QACnE,MAAMqC,YAAY,GAAGD,gBAAgB,CAACE,IAAI,CAACC,GAAG,CAAEpC,GAAG,KAAM;UACvDqC,EAAE,EAAErC,GAAG,CAACqC,EAAE;UACV,GAAGrC,GAAG,CAACsC,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QACH7B,YAAY,CAACyB,YAAY,CAAC;;QAE1B;QACAK,kBAAkB,CAAC,CAAC;MACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAEDR,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF,MAAMG,gBAAgB,GAAG5C,UAAU,CAACD,EAAE,EAAE,YAAY,CAAC;MACrD,MAAM8C,QAAQ,GAAG,MAAM5C,OAAO,CAAC2C,gBAAgB,CAAC;MAEhD,MAAME,WAAW,GAAG,CAAC,CAAC;MACtBD,QAAQ,CAACE,OAAO,CAAE7C,GAAG,IAAK;QACxB4C,WAAW,CAAC5C,GAAG,CAACqC,EAAE,CAAC,GAAGrC,GAAG,CAACsC,IAAI,CAAC,CAAC,CAACQ,KAAK,CAAC,CAAC;MAC1C,CAAC,CAAC;MAEFnC,gBAAgB,CAACiC,WAAW,CAAC;IAC/B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;EACF,CAAC;;EAED;EACA,MAAMO,gBAAgB,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAAK;IACxC,IAAID,IAAI,KAAK,OAAO,EAAE;MACpB7B,YAAY,CAAC8B,KAAK,CAAC;IACrB,CAAC,MAAM,IAAID,IAAI,KAAK,KAAK,EAAE;MACzB3B,UAAU,CAAC4B,KAAK,CAAC;IACnB;;IAEA;IACA,IAAI/B,SAAS,IAAIE,OAAO,EAAE;MACxB,MAAM8B,KAAK,GAAG,IAAIC,IAAI,CAAC,cAAcjC,SAAS,KAAK,CAAC;MACpD,MAAMkC,GAAG,GAAG,IAAID,IAAI,CAAC,cAAcF,KAAK,KAAK,CAAC;MAE9C,MAAMI,WAAW,GAAG,CAACD,GAAG,GAAGF,KAAK,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;MACtD,MAAMI,UAAU,GAAGhC,OAAO,GAAG+B,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;MAClD,MAAME,OAAO,GAAG/B,SAAS,GAAG6B,WAAW,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;;MAEnD1B,YAAY,CAAC0B,WAAW,CAAC;MACzBxB,kBAAkB,CAACyB,UAAU,CAAC;MAC9BvB,cAAc,CAACwB,OAAO,CAAC;IACzB;EACF,CAAC;EAED,MAAMC,aAAa,GAAGA,CAACC,UAAU,EAAEC,IAAI,KAAK;IAC1C3C,mBAAmB,CAAC0C,UAAU,CAAC;IAC/BxC,eAAe,CAACyC,IAAI,CAAC;IACrB7C,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAM8C,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,MAAMT,KAAK,GAAG,IAAIC,IAAI,CAAC,cAAcjC,SAAS,KAAK,CAAC;IACpD,MAAMkC,GAAG,GAAG,IAAID,IAAI,CAAC,cAAc/B,OAAO,KAAK,CAAC;IAEhD,MAAMiC,WAAW,GAAG,CAACD,GAAG,GAAGF,KAAK,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACtD,MAAMI,UAAU,GAAGhC,OAAO,GAAG+B,WAAW,GAAG,CAAC,GAAG,CAAC;IAChD,MAAME,OAAO,GAAG/B,SAAS,GAAG6B,WAAW,GAAG,GAAG,GAAG,CAAC;IAEjD,MAAMO,2BAA2B,CAAC9C,gBAAgB,EAAEE,YAAY,EAAEE,SAAS,EAAEE,OAAO,EAAEiC,WAAW,EAAEC,UAAU,EAAEC,OAAO,CAAC;IACvH1C,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAM+C,2BAA2B,GAAG,MAAAA,CAAOH,UAAU,EAAEC,IAAI,EAAER,KAAK,EAAEE,GAAG,EAAE1B,SAAS,EAAE4B,UAAU,EAAExB,WAAW,KAAK;IAC9G,IAAI;MACF,MAAM+B,eAAe,GAAG7D,GAAG,CAACH,EAAE,EAAE,YAAY,EAAE4D,UAAU,CAAC;MACzD,MAAM/C,aAAa,GAAG,MAAMT,MAAM,CAAC4D,eAAe,CAAC;MAEnD,IAAIC,WAAW,GAAG,CAAC,CAAC;MAEpB,IAAIpD,aAAa,CAACqD,MAAM,CAAC,CAAC,EAAE;QAC1BD,WAAW,GAAGpD,aAAa,CAAC4B,IAAI,CAAC,CAAC,CAACQ,KAAK;QACxCgB,WAAW,CAACJ,IAAI,CAAC,GAAG;UAAExC,SAAS,EAAEgC,KAAK;UAAE9B,OAAO,EAAEgC,GAAG;UAAE1B,SAAS;UAAE4B,UAAU;UAAExB,WAAW;UAAEN;QAAU,CAAC;MACvG,CAAC,MAAM;QACLsC,WAAW,GAAG;UAAE,CAACJ,IAAI,GAAG;YAAExC,SAAS,EAAEgC,KAAK;YAAE9B,OAAO,EAAEgC,GAAG;YAAE1B,SAAS;YAAE4B,UAAU;YAAExB,WAAW;YAAEN;UAAU;QAAE,CAAC;MAC7G;MAEA,MAAMtB,MAAM,CAAC2D,eAAe,EAAE;QAAEf,KAAK,EAAEgB;MAAY,CAAC,CAAC;MACrDrB,OAAO,CAACuB,GAAG,CAAC,0BAA0B,CAAC;MAEvCzB,kBAAkB,CAAC,CAAC;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EAED,oBACEpC,OAAA;IAAA6D,QAAA,gBACE7D,OAAA;MAAA6D,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBjE,OAAA;MAAOkE,MAAM,EAAC,GAAG;MAAAL,QAAA,gBACf7D,OAAA;QAAA6D,QAAA,eACE7D,OAAA;UAAA6D,QAAA,gBACE7D,OAAA;YAAA6D,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAChB/D,SAAS,CAAC8B,GAAG,CAAEsB,IAAI,iBAClBtD,OAAA;YAAA6D,QAAA,EAAgBP;UAAI,GAAXA,IAAI;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAC1B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRjE,OAAA;QAAA6D,QAAA,EACGzD,SAAS,CAAC4B,GAAG,CAAEmC,QAAQ,iBACtBnE,OAAA;UAAA6D,QAAA,gBACE7D,OAAA;YAAA6D,QAAA,EAAKM,QAAQ,CAACC;UAAI;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EACvB/D,SAAS,CAAC8B,GAAG,CAAEsB,IAAI;YAAA,IAAAe,qBAAA;YAAA,oBAClBrE,OAAA;cAAA6D,QAAA,gBACE7D,OAAA;gBAAQsE,OAAO,EAAEA,CAAA,KAAMlB,aAAa,CAACe,QAAQ,CAAClC,EAAE,EAAEqB,IAAI,CAAE;gBAAAO,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EACzE,EAAAI,qBAAA,GAAA/D,aAAa,CAAC6D,QAAQ,CAAClC,EAAE,CAAC,cAAAoC,qBAAA,uBAA1BA,qBAAA,CAA6Bf,IAAI,CAAC,kBACjCtD,OAAA;gBAAA6D,QAAA,gBACE7D,OAAA;kBAAA6D,QAAA,GAAG,cAAY,EAACvD,aAAa,CAAC6D,QAAQ,CAAClC,EAAE,CAAC,CAACqB,IAAI,CAAC,CAAChC,SAAS,EAAC,QAAM;gBAAA;kBAAAwC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACrEjE,OAAA;kBAAA6D,QAAA,GAAG,eAAa,EAACvD,aAAa,CAAC6D,QAAQ,CAAClC,EAAE,CAAC,CAACqB,IAAI,CAAC,CAACJ,UAAU,EAAC,QAAM;gBAAA;kBAAAY,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACvEjE,OAAA;kBAAA6D,QAAA,GAAG,gBAAc,EAACvD,aAAa,CAAC6D,QAAQ,CAAClC,EAAE,CAAC,CAACqB,IAAI,CAAC,CAAC5B,WAAW,EAAC,QAAM;gBAAA;kBAAAoC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE,CACN;YAAA,GARMX,IAAI;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAST,CAAC;UAAA,CACN,CAAC;QAAA,GAbKE,QAAQ,CAAClC,EAAE;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAchB,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGPzD,SAAS,iBACRR,OAAA;MAAKuE,SAAS,EAAC,OAAO;MAAAV,QAAA,gBACpB7D,OAAA;QAAA6D,QAAA,GAAI,eAAa,EAACnD,gBAAgB,EAAC,MAAI,EAACE,YAAY;MAAA;QAAAkD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC1DjE,OAAA;QAAA6D,QAAA,GAAO,aAEL,eAAA7D,OAAA;UACE4C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAE/B,SAAU;UACjB0D,QAAQ,EAAGC,CAAC,IAAK9B,gBAAgB,CAAC,OAAO,EAAE8B,CAAC,CAACC,MAAM,CAAC7B,KAAK;QAAE;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACRjE,OAAA;QAAA6D,QAAA,GAAO,WAEL,eAAA7D,OAAA;UACE4C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAE7B,OAAQ;UACfwD,QAAQ,EAAGC,CAAC,IAAK9B,gBAAgB,CAAC,KAAK,EAAE8B,CAAC,CAACC,MAAM,CAAC7B,KAAK;QAAE;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACRjE,OAAA;QAAA6D,QAAA,GAAO,WAEL,eAAA7D,OAAA;UACE4C,IAAI,EAAC,UAAU;UACf+B,OAAO,EAAEzD,OAAQ;UACjBsD,QAAQ,EAAEA,CAAA,KAAMrD,UAAU,CAAC,CAACD,OAAO;QAAE;UAAA4C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACRjE,OAAA;QAAA6D,QAAA,GAAO,aAEL,eAAA7D,OAAA;UACE4C,IAAI,EAAC,UAAU;UACf+B,OAAO,EAAEvD,SAAU;UACnBoD,QAAQ,EAAEA,CAAA,KAAMnD,YAAY,CAAC,CAACD,SAAS;QAAE;UAAA0C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACRjE,OAAA;QAAA6D,QAAA,gBACE7D,OAAA;UAAA6D,QAAA,GAAG,cAAY,EAACvC,SAAS,EAAC,QAAM;QAAA;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACpCjE,OAAA;UAAA6D,QAAA,GAAG,qBAAmB,EAACrC,eAAe,EAAC,QAAM;QAAA;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACjDjE,OAAA;UAAA6D,QAAA,GAAG,gBAAc,EAACnC,WAAW,EAAC,QAAM;QAAA;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC,eACNjE,OAAA;QAAQsE,OAAO,EAAEf,cAAe;QAAAM,QAAA,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACnDjE,OAAA;QAAQsE,OAAO,EAAEA,CAAA,KAAM7D,YAAY,CAAC,KAAK,CAAE;QAAAoD,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9D,EAAA,CAnMIF,aAAa;AAAA2E,EAAA,GAAb3E,aAAa;AAqMnB,eAAeA,aAAa;AAAC,IAAA2E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}